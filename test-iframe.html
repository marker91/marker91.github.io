<html lang="ru">
<head>
	<title>Тест</title>
</head>
<body>
	<button id="post-message-order-place">Создать заказ</button>
	<button id="post-message-update-planned-times">Запланировать дату</button>
	<script type="text/javascript">
		let orderPlaceButton = document.getElementById("post-message-order-place");
		orderPlaceButton.onclick = function () {
			let orderPlace = {};
			orderPlace.contact = {};
			orderPlace.contact.id = "836D505F-C7B4-11E8-B7C8-5433952BAE0D";
			orderPlace.contact.firstName = "Test";
			orderPlace.contact.lastName = "Test";
			orderPlace.contact.middleName = "Test";
			orderPlace.contact.birthDate = new Date();

			let plannedProduct = {};
			plannedProduct.productId = "DAE1CD37-800B-4B66-82C8-CDACE2014CA5";
			plannedProduct.plannedTime = new Date();

			orderPlace.productPlannedTimes = [plannedProduct];

			let result = {
				objectType: "ORDER_PLACE",
				objectData: orderPlace
			};

			let json = JSON.parse(JSON.stringify(result));
			parent.postMessage(json, "*");
		};
		let updatePlannedTimesButton = document.getElementById("post-message-update-planned-times");
		updatePlannedTimesButton.onclick = function () {
			let plannedOrderProduct = {};
			plannedOrderProduct.orderProductId = "F1178777-4265-11EA-E8AD-34F64BA47A0F";
			plannedOrderProduct.plannedTime = new Date();

			let plannedOrderProductArray = [plannedOrderProduct];

			let result = {
				objectType: "PLANNED_ORDER_PRODUCT_ARRAY",
				objectData: plannedOrderProductArray
			};

			let json = JSON.parse(JSON.stringify(result));
			parent.postMessage(json, "*");
		};
	</script>
</body>
</html>